<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="css/style.css"> <!-- Resource style -->
	<link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
	<script src="js/modernizr.js"></script> <!-- Modernizr -->
	<title>私密板块权限申请</title>

	<script type="text/javascript">
		function chk_form(){

			var emailadd = document.getElementById("emailadd");
			if(emailadd.value=="empty"){
				alert("必须选择邮箱后缀");
				return false;
				//email.focus();
			}
			var preg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]/; //匹配Email
			if(!preg.test(email.value)){ 
		alert("Email格式错误");
		return false;
		//email.focus();
	}
			
}
	</script>

</head>
<body>	
   	<form id="reg" action="register.php" class="cd-form floating-labels" method="post" onsubmit="return chk_form();">
		<legend>贝街论坛私密板块权限申请</legend>
		<a>如果您在公司内部交流板块发帖或回复失败，是因为您没有暂时未认证为该公司员工。通过此页面认证通过后，即可访问该板块</a>

		<div>
			<p class="cd-select icon">
				<select name="identity" id = "identity" class="budget" > 
	   			    <option value="emptyforum">请选择您要认证的身份</option>
	    			<option value="20">RBC员工</option>
	   				<option value="21">TD员工</option>
	    			<option value="22">BMO员工</option>
	    			<option value="23">Scotia员工</option>
	   			 	<option value="24">CIBC员工</option>
	    			<option value="25">其他银行员工（申请加入other banks 板块）</option>
	   				<option value="26">Big4 Accounting 员工</option>
	   				<option value="27">Insurance员工</option>
	   				<option value="28">Pension and Investments 员工</option>
	   			 	<option value="29">Telecom and IT 员工</option>   		
				</select>
			</p>
		</div>

		<div class="icon">
			    <label class="cd-label" for="cd-name">用户名</label>
			    <input type="text" class="user" name="username" id="user" required>
		</div>

		<div class="icon" style="float: left;width: 50%;">
				<label class="cd-label" for="cd-email">Email</label>   
				<input type="text" class="email" name="email" id="email" required>  
		</div>
								  
		<div class="address">
				<select name="emailadd" id = "emailadd" >    
					<option value="empty" rel="emptyforum" selected>请先选择你要加入的板块</option>
								        <!-- RBC EMAIL -->
						<option value="hotmail.com" rel="20">@hotmail.com</option>
						<option value="rbc.ca" rel="20">@rbc.ca</option>
								        <!-- TD EMAIL -->
						<option value="hotmail.com" rel="21">@hotmail.com</option>
						<option value="td.ca" rel="21">@td.ca</option>
						<option value="td.ca2" rel="21">@td.ca3</option>
								        <!-- BMO EMAIL -->
						<option value="bmo.com" rel="22">@bmo.com</option>
								        <!-- Scotia EMAIL -->
						<option value="scotia.com" rel="23">@scotia.com</option>
								        <!-- CIBC EMAIL -->
				        <option value="cibc.com" rel="24">@cibc.com</option>
				        <!-- Other Banks EMAIL -->
				        <option value="bank.com" rel="25">@bank.com</option>
				        <!-- Big 4 EMAIL -->
				        <option value="4444.com" rel="26">@4444.com</option>
				        <!-- Insurance EMAIL -->
				        <option value="man.com" rel="27">@man.com</option>
				        <!-- Pension and Investments EMAIL -->
				        <option value="in.com" rel="28">@in.com</option>
				        <!-- Telecom and IT EMAIL -->
				        <option value="rogers.com" rel="29">@rogers.com</option>				   
				</select>
				<p style="position: absolute; right: 5px;margin-top: 10px"><a href="http://forum.baystgroup.ca/forum.php?mod=forumdisplay&fid=64" target="_blank">没有您的邮箱后缀？</a></p>
			</div>

		<p><input type="submit" class="btn" value="提交申请"></p>
    </form>

<script src="js/jquery-2.1.1.js"></script>
<script src="js/main.js"></script> <!-- Resource jQuery -->
<script type="text/javascript">
	var $ = function(id){return document.getElementById(id);};
	(function(){
	    var dateop = {};
	    var manage = $('emailadd');
	    var options = manage.options;
	    for(var i=0;i<options.length;i++){
	        var rel = options[i].getAttribute('rel');
	        if(!rel) continue;
	        if(typeof dateop[rel] == 'undefined')  dateop[rel] = [];
	        dateop[rel].push({'value':options[i].value,'text':options[i].text});
	    };
	    $('identity').onchange = function(){change();};
	    function change(){
	        var type = $('identity').value;
	        var ttname = manage.value;
	        manage.options.length = 0;
	        if(type && typeof dateop[type]){
	            for(var i=0;i<dateop[type].length;i++){
	                manage.options.add(new  Option(dateop[type][i]['text'], 
	                                   dateop[type][i]['value']));
	               if(manage.options[i].value == ttname){ 
	                   manage.options[i].selected = true
	               }
	            }
	        }else{
	            for(var j in dateop){
	                if(typeof dateop[j] != 'object') continue;
	                for(var i=0;i<dateop[j].length;i++){
	                    manage.options.add(new  Option(dateop[j][i]['text'], 
	                                       dateop[j][i]['value']));
	                    if(manage.options[i].value == ttname){ 
	                        manage.options[i].selected = true
	                    }
	                }
	            }
	        }
	    }
	    change();
	})();
</script> 
</body>
</html>
